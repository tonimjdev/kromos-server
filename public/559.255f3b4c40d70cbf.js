"use strict";(self.webpackChunkkromos=self.webpackChunkkromos||[]).push([[559],{8559:(N,u,s)=>{s.r(u),s.d(u,{AuthModule:()=>q});var d=s(6895),r=s(433),l=s(4154),o=s(8256);let h=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-header"]],decls:2,vars:0,consts:[[1,"logo"]],template:function(t,n){1&t&&(o.TgZ(0,"div",0),o._uU(1,"KROMOS"),o.qZA())},styles:["*[_ngcontent-%COMP%]{background-color:#0c0c0e}.logo[_ngcontent-%COMP%]{text-align:center;padding:1em 0 .8em;font-weight:600;font-size:2em}"]}),e})(),_=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-main"]],decls:10,vars:0,consts:[[1,"menuLogin"],["id","logId","routerLink","login","routerLinkActive","activo"],["id","signId","routerLink","registro","routerLinkActive","activo"]],template:function(t,n){1&t&&(o._UZ(0,"app-header"),o.TgZ(1,"div")(2,"ul",0)(3,"li")(4,"a",1),o._uU(5,"LOG IN"),o.qZA()(),o.TgZ(6,"li")(7,"a",2),o._uU(8,"SIGN UP"),o.qZA()()(),o._UZ(9,"router-outlet"),o.qZA())},dependencies:[l.lC,l.yS,l.Od,h],styles:["*[_ngcontent-%COMP%]{background-color:#0c0c0e;color:#d9d9d9}.menuLogin[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:0 0 .6em;border-bottom:.4px solid rgb(92,92,92);list-style:none}.activo[_ngcontent-%COMP%]{color:#fff;border-bottom:2.8px solid #6B0034}.menuLogin[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5em}a[_ngcontent-%COMP%]{text-decoration:none;color:#666}"]}),e})();var p=s(6518);function C(e,i){1&e&&(o.TgZ(0,"p",8),o._uU(1,"* Enter a valid email"),o.qZA())}function w(e,i){1&e&&(o.TgZ(0,"p",8),o._uU(1,"* Enter a valid password, at least 6 characters"),o.qZA())}function Z(e,i){if(1&e&&(o.TgZ(0,"p",9),o.O4$(),o.TgZ(1,"svg",10),o._UZ(2,"path",11)(3,"path",12),o.qZA(),o._uU(4),o.qZA()),2&e){const t=o.oxw();o.xp6(4),o.hij(" ",t.messageError,"")}}let v=(()=>{class e{constructor(t,n,a){this.fb=t,this.router=n,this.authService=a,this.submit=!1,this.datosNoValidos=!1,this.messageError="",this.miFormulario=this.fb.group({email:["alex@hola.es",[r.kI.required,r.kI.email]],password:["123456",[r.kI.required,r.kI.minLength(6)]]})}esValido(t){return this.miFormulario.controls[t].errors}login(){this.submit=!0;const{email:t,password:n}=this.miFormulario.value;this.authService.login(t,n).subscribe(a=>{!0===a?this.router.navigateByUrl("/mycollection"):(this.datosNoValidos=!0,this.messageError=a)})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(r.qu),o.Y36(l.F0),o.Y36(p.e))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-login"]],decls:20,vars:4,consts:[["autocomplete","off",1,"formulario",3,"formGroup","ngSubmit"],["type","email","formControlName","email","placeholder","email@hello.com"],["class","error",4,"ngIf"],["type","password","formControlName","password","placeholder","Enter your password..."],["class","error2",4,"ngIf"],[1,"forgot"],["href","#"],["type","submit"],[1,"error"],[1,"error2"],["xmlns","http://www.w3.org/2000/svg","width","14","height","14","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-info-circle"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"]],template:function(t,n){1&t&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return n.login()}),o.TgZ(1,"div")(2,"p"),o._uU(3,"Email address"),o.qZA(),o._UZ(4,"input",1),o.YNc(5,C,2,0,"p",2),o.qZA(),o.TgZ(6,"div")(7,"p"),o._uU(8,"Password"),o.qZA(),o._UZ(9,"input",3),o.YNc(10,w,2,0,"p",2),o.qZA(),o.YNc(11,Z,5,1,"p",4),o.TgZ(12,"div",5)(13,"a",6),o._uU(14,"I forgot my password"),o.qZA()(),o.TgZ(15,"div")(16,"div"),o._UZ(17,"div"),o.TgZ(18,"button",7),o._uU(19," LOG IN "),o.qZA()()()()),2&t&&(o.Q6J("formGroup",n.miFormulario),o.xp6(5),o.Q6J("ngIf",n.esValido("email")&&n.submit),o.xp6(5),o.Q6J("ngIf",n.esValido("password")&&n.submit),o.xp6(1),o.Q6J("ngIf",n.datosNoValidos))},dependencies:[d.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:[".formulario[_ngcontent-%COMP%]{margin:2em 0;display:flex;flex-direction:column;justify-content:center;gap:1em}.formulario[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em;font-weight:200;padding:0 .4em}.formulario[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:340px;font-size:1em;font-weight:300;border-radius:10px;padding:.5em;border:.4px solid #282830;margin-bottom:.1em;outline:none;background-color:#282830;color:#d9d9d9}.formulario[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:.4px solid #888888;color:#fff}.formulario[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;font-size:.7em;font-weight:400;padding-top:.2em;margin-bottom:-.2em}.formulario[_ngcontent-%COMP%]   .error2[_ngcontent-%COMP%]{color:red;font-size:.8em;font-weight:500;border:1px solid #ff0000;padding:.4em .5em;border-radius:20px;margin-top:1em}div[_ngcontent-%COMP%]:focus-within   p[_ngcontent-%COMP%]{color:#fff;font-weight:400}.forgot[_ngcontent-%COMP%]{width:320px;text-align:end;padding-bottom:.6em}.forgot[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9em;font-weight:300;color:#d9d9d9;cursor:pointer}button[_ngcontent-%COMP%]{background:linear-gradient(59.66deg,#000000 -42.73%,#8C0043 95.78%);color:#fff;width:340px;padding:.6em .5em;border-radius:10px;margin-bottom:2em;font-size:1.1em;font-weight:300;cursor:pointer;border:none}"]}),e})(),M=(()=>{class e{constructor(){}getPosition(){return new Promise((t,n)=>{navigator.geolocation.getCurrentPosition(a=>{t({lng:a.coords.longitude,lat:a.coords.latitude})},a=>{n(a)})})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function b(e,i){1&e&&(o.TgZ(0,"p",12),o._uU(1,"* Enter a valid name"),o.qZA())}function P(e,i){1&e&&(o.TgZ(0,"p",12),o._uU(1,"* Enter a valid email"),o.qZA())}function O(e,i){1&e&&(o.TgZ(0,"p",12),o._uU(1,"* Enter a valid password, at least 6 characters"),o.qZA())}function T(e,i){1&e&&(o.TgZ(0,"p",12),o._uU(1,"* Enter a valid password, at least 6 characters"),o.qZA())}function A(e,i){1&e&&(o.TgZ(0,"p"),o._uU(1,"* Please check to confirm"),o.qZA())}function y(e,i){if(1&e&&(o.TgZ(0,"p",13),o.O4$(),o.TgZ(1,"svg",14),o._UZ(2,"path",15)(3,"path",16),o.qZA(),o._uU(4),o.qZA()),2&e){const t=o.oxw();o.xp6(4),o.hij(" ",t.messageError,"")}}const x=[{path:"",component:_,children:[{path:"login",component:v},{path:"registro",component:(()=>{class e{constructor(t,n,a,g){this.fb=t,this.router=n,this.authService=a,this.locationService=g,this.submit=!1,this.datosNoValidos=!1,this.messageError="",this.passwordMatch=c=>{const m=c.get("password"),f=c.get("confirmPassword");return m&&f&&m.value!==f.value?{passwordMatch:!0}:null},this.miFormulario=this.fb.group({name:["Toni",[r.kI.required]],email:["toni@hola.es",[r.kI.required,r.kI.email]],password:["123456",[r.kI.required,r.kI.minLength(6)]],confirmPassword:["",[r.kI.required,r.kI.minLength(6)]],older:[!1,[r.kI.requiredTrue]]},{validators:this.passwordMatch})}getLocation(){this.locationService.getPosition().then(t=>{this.latitud=t.lat,this.longitud=t.lng})}esValido(t){return this.miFormulario.controls[t].errors}registro(){if(console.log("Formulario v\xe1lido?",this.miFormulario.valid),console.log("check older 18?",this.miFormulario.controls.older.value),this.submit=!0,this.miFormulario.value.password!=this.miFormulario.value.confirmPassword)this.messageError="Password no match!",this.datosNoValidos=!0;else{if(!this.miFormulario.valid)return;{const{name:t,email:n,password:a}=this.miFormulario.value;this.authService.registro(t,n,a,this.latitud,this.longitud).subscribe(m=>{!0===m?this.router.navigateByUrl("/mycollection"):(this.datosNoValidos=!0,this.messageError=m)})}}}ngOnInit(){this.getLocation()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(r.qu),o.Y36(l.F0),o.Y36(p.e),o.Y36(M))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-register"]],decls:34,vars:7,consts:[["autocomplete","off",1,"formulario",3,"formGroup","ngSubmit"],["type","text","formControlName","name","placeholder","John Smith"],["class","error",4,"ngIf"],["type","email","formControlName","email","placeholder","email@hello.com"],["type","password","formControlName","password","placeholder","Enter your password..."],["type","password","formControlName","confirmPassword","placeholder","Enter your password again..."],[1,"checkEighteen"],["type","checkbox","formControlName","older","value","older"],[1,"errorConfirm"],[4,"ngIf"],["class","error2",4,"ngIf"],["type","submit"],[1,"error"],[1,"error2"],["xmlns","http://www.w3.org/2000/svg","width","14","height","14","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-info-circle"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"]],template:function(t,n){1&t&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return n.registro()}),o.TgZ(1,"div")(2,"p"),o._uU(3,"Name"),o.qZA(),o._UZ(4,"input",1),o.YNc(5,b,2,0,"p",2),o.qZA(),o.TgZ(6,"div")(7,"p"),o._uU(8,"Email address"),o.qZA(),o._UZ(9,"input",3),o.YNc(10,P,2,0,"p",2),o.qZA(),o.TgZ(11,"div")(12,"p"),o._uU(13,"Password"),o.qZA(),o._UZ(14,"input",4),o.YNc(15,O,2,0,"p",2),o.qZA(),o.TgZ(16,"div")(17,"p"),o._uU(18,"Confirm your password"),o.qZA(),o._UZ(19,"input",5),o.YNc(20,T,2,0,"p",2),o.qZA(),o.TgZ(21,"div",6),o._UZ(22,"input",7),o.TgZ(23,"span")(24,"label"),o._uU(25," I certify that I am at least 18 years old"),o.qZA()()(),o.TgZ(26,"div",8),o.YNc(27,A,2,0,"p",9),o.qZA(),o.YNc(28,y,5,1,"p",10),o.TgZ(29,"div")(30,"div"),o._UZ(31,"div"),o.TgZ(32,"button",11),o._uU(33," SIGN UP "),o.qZA()()()()),2&t&&(o.Q6J("formGroup",n.miFormulario),o.xp6(5),o.Q6J("ngIf",n.esValido("name")&&n.submit),o.xp6(5),o.Q6J("ngIf",n.esValido("email")&&n.submit),o.xp6(5),o.Q6J("ngIf",n.esValido("password")&&n.submit),o.xp6(5),o.Q6J("ngIf",n.esValido("confirmPassword")&&n.submit),o.xp6(7),o.Q6J("ngIf",n.esValido("older")&&n.submit),o.xp6(1),o.Q6J("ngIf",n.datosNoValidos))},dependencies:[d.O5,r._Y,r.Fj,r.Wl,r.JJ,r.JL,r.sg,r.u],styles:[".formulario[_ngcontent-%COMP%]{margin:2em 0;display:flex;flex-direction:column;justify-content:center;gap:1em}.formulario[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em;font-weight:200;padding:0 .4em}.formulario[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:340px;font-size:1em;font-weight:300;border-radius:10px;padding:.5em;border:.4px solid #282830;margin-bottom:.1em;margin-top:-.5em;outline:none;background-color:#282830;color:#d9d9d9}.formulario[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:.4px solid #888888;color:#fff}.formulario[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;font-size:.7em;font-weight:400;margin-bottom:-.2em}.formulario[_ngcontent-%COMP%]   .errorConfirm[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red;font-size:.7em;font-weight:400;margin:-2em 0 2em -8em}.formulario[_ngcontent-%COMP%]   .error2[_ngcontent-%COMP%]{color:red;font-size:.8em;font-weight:500;border:1px solid #ff0000;padding:.4em .5em;border-radius:20px;margin-top:auto}div[_ngcontent-%COMP%]:focus-within   p[_ngcontent-%COMP%]{color:#fff;font-weight:400}.checkEighteen[_ngcontent-%COMP%]{margin:.5em 1em;font-size:.8em;font-weight:200;gap:1em;display:flex}.checkEighteen[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:auto 1em;width:25px;height:25px}.checkEighteen[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:-5em}button[_ngcontent-%COMP%]{background:linear-gradient(59.66deg,#000000 -42.73%,#8C0043 95.78%);color:#fff;width:340px;padding:.6em .5em;border-radius:10px;margin-bottom:2em;font-size:1.1em;font-weight:300;cursor:pointer;border:none}"]}),e})()},{path:"**",redirectTo:"login"}]}];let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[l.Bz.forChild(x),l.Bz]}),e})();var I=s(4466);let q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[d.ez,U,r.UX,I.m]}),e})()}}]);